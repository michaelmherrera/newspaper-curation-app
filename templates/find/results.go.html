{{block "content" .}}

<h2>Filters</h2>

<p>
  Refine your search or view the results below.  Title is required, but other
  fields are optional to an extent.  You must fill out fields from left to
  right, so you cannot, for example, put in a month without a year.  You may
  enter a zero or simply leave optional fields blank.
</p>

<form action="{{.Data.SearchFormAction}}" method="GET" role="search">
  <label for="lccn">Title</label>
  <select id="lccn" name="lccn">
    {{range .Data.Titles}}
      <option value="{{.LCCN}}" {{if eq .LCCN $.Data.LCCN}}selected="selected"{{end}}>
        {{.Name}} - {{.LCCN}}
      </option>
    {{end}}
  </select>

  <label for="year">Year</label>
  <input type="number" id="year" name="year" value="{{.Data.Year}}" />

  <label for="month">Month</label>
  <input type="number" id="month" name="month" value="{{.Data.Month}}" />

  <label for="day">Day</label>
  <input type="number" id="day" name="day" value="{{.Data.Day}}" />

  <button type="submit">Refine</button>
</form>

<h2>Results</h2>

<table class="table table-striped table-bordered table-condensed sortable">
  <thead>
  <tr>
    <th scope="col" class="sort-alpha">Date</th>
    <th scope="col" class="sort-alpha">Edition</th>
    <th scope="col" class="sort-alpha">Workflow Location</th>
    <th scope="col" class="sort-alpha">Raw File / Web Location</th>
  </tr>
  </thead>

  <tbody>
  {{range .Data.Issues}}
  <tr>
    <td>{{.DateString}}</td>
    <td>{{.Edition}}</td>
    <td>Not Implemented Yet</td>
    <td>{{.Location}}</td>
  </tr>
  {{end}}
  </tbody>
</table>

{{end}}
